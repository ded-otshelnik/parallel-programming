# Пример библиотеки и приложения для математических операций

## Способ 1. Компиляция вручную через gcc, статическая линковка

Для запуска примера необходимо выполнить следующие шаги:

1. **Компиляция библиотеки**: выполните команду компиляции из директории `lib`:

   ```bash
   gcc -c math_functions.c -o math_functions.o
   ar rcs libmath.a math_functions.o
   ```

   Данная команда скомпилирует объектный файл, а затем создаст статическую библиотеку `libmath.a`.

2. **Компиляция приложения**: выполните команду компиляции из корневой директории проекта:

   ```bash
   gcc main.c -L. -lmath -o math_app
   ```

   Данная команда создаст бинарный файл `math_app`, связанный со статической библиотекой `libmath.a`.

## Способ 2. Компиляция через gcc, динамическая линковка

Для запуска примера необходимо выполнить следующие шаги:

1. **Компиляция библиотеки**: выполните команду компиляции из директории `lib`:

   ```bash
   gcc -c -fPIC math_functions.c -o math_functions.o
   gcc -shared -o libmath.so math_functions.o
   ```

   Данная команда создаст динамическую библиотеку `libmath.so`.

2. **Компиляция приложения**: выполните команду компиляции из корневой директории проекта:

   ```bash
   gcc main.c -L. -lmath -o math_app
   ```

   Данная команда создаст бинарный файл `math_app`, связанный с динамической библиотекой `libmath.so`.

3. **Запуск приложения**: для запуска приложения необходимо указать путь к динамической библиотеке:

   ```bash
   export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH
   ./math_app
   ```

## Способ 3. Компиляция через CMake

Для запуска примера необходимо выполнить следующие шаги:

1. **Установка зависимостей**: установите следующие зависимости для системы, необходимые для сборки через CMake:

   ```bash
   sudo apt-get install make cmake build-essential -y
   ```

2. **Сборка**: выполните команду сборки из корневой директории проекта:

   ```bash
   cmake -S . -B build
   cmake --build build
   ```

    Данная команда создаст директорию `build`, в которой будут находиться бинарные файлы (и вспомогательные файлы), и соберет итоговое приложение, которое также будет лежать в этой директории.

3. **Запуск**: для запуска собранного приложения выполните команду:

   ```bash
   ./build/math_app
   ```
